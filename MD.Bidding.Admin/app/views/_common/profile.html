
<div id="header" ng-include="'/app/views/_common/header.html'"></div>

<aside id="menu" ng-include="'/app/views/_common/navigation.html'"></aside>

<div id="wrapper">

    <div ng-include="'/app/views/_common/Breadcrumb.html'"></div>

    <div class="content">
        <div class="row">
            <div class="col-lg-12">
                <div class="hpanel no-padding-left" ng-controller="UserEditController">

                    <form name="form" class="form-horizontal ng-pristine ng-valid col-md-12" novalidate unsaved-warning-form>
                        <tabset>
                            <tab>
                                <tab-heading>
                                    <i class="fa fa-laptop"></i> User Profile
                                </tab-heading>
                                <div class="panel-body">
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">First Name</label>
                                        <div class="col-md-6">
                                            <input ng-readonly="readOnly" name="firstname" class="form-control" ng-model="user.FirstName" maxlength="255" ng-maxlength="255" required ng-class="{ errorinput: form.firstname.$invalid }">
                                            <span ng-show="form.firstname.$invalid">
                                                <span ng-show="form.firstname.$error.required" class="help-block error"><i class="fa fa-warning"></i> First Name is a required.</span>
                                                <span ng-show="form.firstname.$error.maxlength" class="help-block error"><i class="fa fa-warning"></i>First Name should not exceed 255 characters.</span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Last Name</label>
                                        <div class="col-md-6">
                                            <input ng-readonly="readOnly" name="lastname" class="form-control" ng-model="user.LastName" maxlength="255" ng-maxlength="255" required ng-class="{ errorinput: form.lastname.$invalid }">
                                            <span ng-show="form.lastname.$invalid">
                                                <span ng-show="form.lastname.$error.required" class="help-block error"><i class="fa fa-warning"></i> Last Name is a required.</span>
                                                <span ng-show="form.lastname.$error.maxlength" class="help-block error"><i class="fa fa-warning"></i>Last Name should not exceed 255 characters.</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group" ng-if="user.MiddleName > 0 ">
                                        <label class="col-sm-2 control-label">Middle Name</label>
                                        <div class="col-md-6">
                                            <input ng-readonly="readOnly" name="middleName" class="form-control" ng-model="user.MiddleName" ng-maxlength="255" ng-class="{ errorinput: form.middleName.$invalid }">
                                            <span ng-show="form.middleName.$invalid">
                                                <span ng-show="form.middleName.$error.maxlength" class="help-block error"><i class="fa fa-warning"></i>Middle Name should not exceed 255 characters.</span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">User Name</label>
                                        <div class="col-md-6">
                                            <input ng-readonly="readOnly" name="username" class="form-control" ng-model="user.UserName" maxlength="255" ng-maxlength="255" required ng-class="{ errorinput: form.username.$invalid }">
                                            <span ng-show="form.username.$invalid">
                                                <span ng-show="form.username.$error.required" class="help-block error"><i class="fa fa-warning"></i> User Name is a required.</span>
                                                <span ng-show="form.username.$error.maxlength" class="help-block error"><i class="fa fa-warning"></i>User Name should not exceed 255 characters.</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Phone Number</label>
                                        <div class="col-md-6">
                                            <input ng-readonly="readOnly" name="PhoneNumber" class="form-control" ng-model="user.PhoneNumber" maxlength="255" ng-maxlength="255" required ng-class="{ errorinput: form.PhoneNumber.$invalid }">
                                            <span ng-show="form.PhoneNumber.$invalid">
                                                <span ng-show="form.PhoneNumber.$error.required" class="help-block error"><i class="fa fa-warning"></i> Phone Number is a required.</span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="hr-line-dashed"></div>
                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"> Email address</label>
                                        <div class="col-md-10">
                                            <input ng-readonly="readOnly" name="email" maxlength="50" type="email" class="form-control" ng-model="user.Email" ng-pattern="/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/" ng-class="{ errorinput: form.email.$invalid }" />
                                            <span ng-show="form.email.$invalid">
                                                <span ng-show="form.email.$error.pattern" class="help-block error margin-bottom-00 "><i class="fa fa-warning"></i> Invalid Email Address, it should be of the form  FFF@xxxx.com</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">User Photo</label>
                                        <div class="col-md-10">
                                            <div class="btn-group pull-left">
                                                <button ng-disabled="readOnly" class="btn btn-default btn-sm" ng-click="ManagePhoto(user)"><i class="fa fa-file-image-o"></i> Manage Image</button>
                                                <button ng-show="user.UserPhoto.MediaId > 0" class=" btn btn-default btn-sm" ng-click="DeletePhoto()"><i class="fa fa-trash-o"></i> Delete</button>
                                            </div>
                                            <div class="clear5"></div>
                                            <div ng-if="user.UserPhoto">
                                                <img src="/media/{{user.UserPhoto.MediaId}}/{{user.UserPhoto.Name}}" class="img-responsive" />
                                            </div>
                                            <div ng-if="user.UserPhoto == null">
                                                <img src="/images/Av.jpg" class="img-responsive" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="hr-line-dashed"></div>
                                    <div class="form-group">
                                        <div class="col-md-2">
                                        </div>
                                        <div class="col-md-10">
                                            <div class="check-element sample-show-hide alert alert-success animate-show" ng-show="showMessageSave" style="clear:both;">
                                                <i class="fa-fw fa fa-check"></i>
                                                <span>School User has been saved</span>
                                            </div>

                                            <div class="check-element sample-show-hide alert alert-success animate-show" ng-show="showMessageEmailExists" style="clear:both;">
                                                <i class="fa-fw fa fa-check"></i>
                                                <span>Can not save User, Email already Exits</span>
                                            </div>

                                            <div class="check-element sample-show-hide alert alert-success animate-show" ng-show="showMessageDeleted" style="clear:both;">
                                                <i class="fa-fw fa fa-check"></i><span>School User has been deleted</span>
                                            </div>

                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <div class="col-sm-8 col-sm-offset-2">

                                            <button class="btn btn-default" type="submit" ui-sref="schoolusers">
                                                <i class="fa fa-ban"></i>   Cancel
                                            </button>

                                            <div class="btn-group">
                                                <button ng-click="Save(user)" class="btn btn-info dropdown-toggle" ng-disabled="!form.$valid || user.users.length == 0">
                                                    Save
                                                </button>
                                                <button class="btn btn-info dropdown-toggle" data-toggle="dropdown">
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu up">
                                                    <li>
                                                        <a ng-really-message='Are you sure you want to delete this User' ng-disabled="!form.$valid" class="btn text-align-left" href="" ng-really-click="Delete(user.Id)" data-original-title="Delete">Delete</a>
                                                    </li>
                                                </ul>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </tab>
                        </tabset>

                    </form>

                </div>
            </div>
        </div>
       
    </div>
</div>